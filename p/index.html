<!DOCTYPE html>
<html>
  <head>
    <title>Check Progress</title>
    <meta charset = "utf-8" />
    <link href= "https://fonts.googleapis.com/css?family=Roboto:400,400italic" rel="stylesheet" type="text/css">
    <style>
      html, body {
        padding: 0;
        margin: 0;
        font-family: "Roboto", sans-serif;
        color: #2c3e50;
      }
      .value {
        background-color: #ecf0f1;
        color: #2c3e50;
        display: inline-block;
        width: 200px;
        margin: 5px;
        text-align: center;
        padding: 5px;
      }
      .bar {
        height: 5px;
        background-color: #16a085;
      }
      table {
        vertical-align: middle;
        text-align: center;
        width: 100%;
        height: 100%;
      }
      .personal {
        font-size: 50px;
      }
      .percent {
        font-style: italic;
        margin-left: 15px;
      }
      .house {
        text-transform: uppercase;
        font-size: 32px;
        color: #ffffff;
        margin: 25px 5px 0 5px;
        padding: 15px 15px 0 15px;
        background-color: #2c3e50;
      }
      button {
        background-color: #2c3e50;
        color: #ffffff;
        border: none;
        height: 25px;
        margin: 5px;
        border-radius: 1px;
      }
      input {
        height: 25px;
        border: none;
        width: 250px;
        background-color: #ecf0f1;
        color: #2c3e50 !important;
        padding-left: 5px;
      }
      .fillIn {
        visibility: hidden;
        height: 5px;
      }
      #header {
        text-align: center;
        color: #2c3e50;
        font-size: 20px;
        padding: 5px 0 5px 0;
        width: 1100px;
        margin: auto;
      }
      .bad {
        background-color: #e74c3c;
        color: #ffffff;
      }
      .good {
        background-color: #16a085;
        color: #ffffff;
      }
      .bad, .good {
        margin: 5px;
        padding: 15px;
        text-align: justify;
      }
      #output {
        width: 1100px;
        margin: auto;
      }
      .bold {
        font-weight: bold;  
      }
      #notification {
        margin: 0 5px 5px 5px;
        padding: 0 15px 15px 15px;
        text-align: justify;
        background-color: #2c3e50;
        color: #ffffff;
      }
    </style>
  </head>
  <body>
    <div id = "header">Check your progress toward graduating with NHS honors.</div>
    <table><tr><td id = "main"><div id = "output">JavaScript is required to access this page. Sorry!</div></td></tr></table>
    <script type = "text/javascript">
      function doCheck() {
        var text = document.getElementById("in").value, d = 0, r = "<br><div class='house'>", fee = "?";
        for (var j = 2; j < n.length; j++) {
          var num = n[j][0],
            grade = n[j][2],
            encode = parseInt(num, 32).toString(10),
            faction = n[j][1],
            update = "Updated 11/07/15 at 1:45 p.m.",
            probation = n[j][7];
          grad = n[0];
          console.log(encode + " " + text);
          if (text == encode) {
            d = 1;
            console.log("Match found.")
            r += encode + ". House ";
            switch (faction) {
              case "1":
                r += "Gryffindor.</div>";
                break;
              case "2":
                r += "Ravenclaw.</div>";
                break;
              case "3":
                r += "Slytherin.</div>";
                break;
              case "4":
                r += "Hufflepuff.</div>";
                break;
              default:
                r += "unknown.</div>";
                break;
            }
            r += "<div id = 'notification'>This system has been updated to display quarterly progress. Requirements and values reflect quarterly progress only. You can check your total progress, including meeting attendance, in the English pod. The values displayed here are only indicative of your continued membership (whether you will be placed on probation) and do not signify that you have completed all requirements to graduate with National Honor Society honors.</div>";
            for (var k = 2; k < 7; k++) {
              if (n[j][k] == "") {
                n[j][k] = 0;
              }
            }
            var names = ["grade", "individual hours", "activities", "tutoring hours", "fee paid", "probation"];
            for (var p = 2; p < 7; p++) {
              r += "<div class = 'value'>";
              if (p != 6) {
                r += "<span class = 'personal'>" + n[j][p] + "</span><br>" + names[p - 2];
              } else {
                switch (n[j][p]) {
                    case (0):
                    case (null):
                    case ("0"):
                      fee = "No";
                      break;
                    case ("1"):
                      fee = "Yes";
                      break;
                    default:
                      fee = "?";
                      break;
                }
                r += "<span class = 'personal'>" + fee + "</span><br>" + names[p - 2];
              }
              if (p > 2) {
                r += " <span class = 'percent'>" + Math.round(n[j][p]/grad[p]*100) + "%</span>";
                if ((n[j][p]/grad[p]*100 <= 100) && (n[j][p]/grad[p]*100 > 0)) {
                  r += "<div class = 'bar' style = 'width: " + n[j][p]/grad[p]*100 + "%;'></div>";
                } else if (n[j][p]/grad[p]*100 > 100) {
                  r += "<div class = 'bar' style= 'width: 100%;'></div>";
                } else {
                  r += "<div class = 'fillIn' style = 'width: 100%;'></div>";
                }
              } else {
                r += "<div class = 'fillIn' style = 'width: 100%'></div>";
              }
              r += "</div>";
            }
            if ((probation == "1") || (probation == 1)) {
              r += "<div class = 'bad'><span class = 'bold'>You are on probation!</span> You have additional requirements this quarter. They have been subtracted from your current progress; the statistics above include them. If you cannot complete your requirements this quarter (including your deficit from probation), you will be removed from the National Honor Society. The statistics above do not include requirements for graduation (meetings, completion of all terms) or additional requirements for incoming seniors who were not members last year. Check the board in the English pod to view your progress toward completing these and contact any of the officers if you have questions.</div>";
            } else {
              r += "<div class = 'good'><span class = 'bold'>You are not on probation.</span> However, this does not guarantee completion of National Honor Society requirements; you must also attend the required number of meetings. Seniors must complete any requirements they may have missed previously (when probation was not enforced), including all requirements for junior year. Be sure to check the board in the English pod to ensure their completion. Don't hesitate to ask any of the officers if you have questions.</div>";
            }
          }
        }
        if (d == 0) {
          main.innerHTML = replace + "<br>No results found.";
        } else {
          main.innerHTML = replace + r + update;
        }
      }
      var main = document.getElementById("output"),
        replace = "<input type='text' id='in' placeholder='Student number'><button id='doClick' onclick='doCheck();'>Check</button>",
        fullData = "0`0`0`2`1`2`1`0 91fgc`1`11`-2`-1`-2``1 92592`1`11`-2``1``1 94i2d`1`11````1` 94cue`1`11````1` 9511o`1`11`-2``1``1 927fk`1`11````1`1 924oe`1`11````1` 925vs`1`11`````1 92t40`1`11`-2`-1`-2``1 93n2a`1`11`2```1`1 924d0`1`11`-2```1`1 91l2c`1`12````1` 91p6o`1`12`-2``-1.8``1 926hv`1`12````1`1 929rb`1`12```-1.3``1 952nd`1`12`-2``-2``1 91jl2`1`12`````1 954lj`1`12`-2`-1`-2``1 91vic`1`12````1` 90o20`1`12`-2`-1`-2``1 95b7c`1`12`````1 927i2`2`11````1`1 921t4`2`11`-2`-1`-2``1 924d2`2`11`-2`-1`-2`1`1 93cc8`2`11````1` 92ifu`2`11```1`1` 95fg6`2`11`-2````1 924g6`2`11`-2``-0.3``1 94c9i`2`11````1` 91ehf`2`11``-1``1`1 925ve`2`11````1` 928pr`2`11````1` 924g8`2`11````1` 9265r`2`11``-1`0.1`1`1 91f4a`2`12```-2`1`1 927k0`2`12`4```1`1 924bv`2`12````1` 91ltc`2`12`-2`-1`-2``1 90gui`2`12`-2`-1`-2``1 91pjt`2`12````1` 935hf`2`12`-2`-1`-2``1 92rpd`2`12`-2``-0.8`1`1 924h4`3`11`-2``-0.3``1 929bh`3`11`-2````1 928sc`3`11`-2`-1`-2``1 92ej3`3`11````1` 924g9`3`11`-2`-1`-2``1 924gh`3`11`````1 94te6`3`11`1```1`1 925vu`3`11`-2`-1`-2``1 925vn`3`11`````1 91es3`3`11`1``-1``1 923nm`3`11`````1 91fgg`3`11```1`1` 927ce`3`12`-2``-2``1 91rfe`3`12`1```1`1 91lbv`3`12`-2`-1`-2``1 9511i`3`12`-2`-1`-2``1 91msi`3`12`-2`-1`-1``1 91n2s`3`12``-1`-1`1`1 91l3j`3`12```-0.3``1 91jvn`3`12`-2``-2`1`1 90mjo`3`12````1` 94tdv`4`11`1```1`1 92b0h`4`11```-1`1`1 91ffq`4`11````1` 925ad`4`11````1`1 941h6`4`11`1````1 92c1b`4`11```1`1` 91es1`4`11````1` 925ue`4`11`-2``0.5`1`1 924f7`4`11```0.8`1` 924d9`4`11`-2`-1`-1``1 9201g`4`11`````1 91e0t`4`11```1`1` 91lrm`4`12`-2``-1.2`1`1 95dd1`4`12````1` 91pdj`4`12`3``1`1`1 925tp`4`12`-2``-2``1 91ls6`4`12`-2``-2``1 92oug`4`12`1.5````1 91l37`4`12`2``-2``1 91ksu`4`12`-2`-1`-2``1 93imt`4`12```-1``1",
        s = fullData.split(" "), n = [];
      for (var i = 0; i < s.length; i++) {
        n.push(s[i].split("`"));
      }
      main.innerHTML = replace;
    </script>
  </body>
</html>
