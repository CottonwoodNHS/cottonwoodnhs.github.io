<!DOCTYPE html>
<html>
  <head>
    <title>Check Progress</title>
    <meta charset = "utf-8" />
    <link href= "https://fonts.googleapis.com/css?family=Roboto:400,400italic" rel="stylesheet" type="text/css">
    <style>
      html, body {
        padding: 0;
        margin: 0;
        font-family: "Roboto", sans-serif;
        color: #2c3e50;
      }
      .value {
        background-color: #ecf0f1;
        color: #2c3e50;
        display: inline-block;
        width: 200px;
        margin: 5px;
        text-align: center;
        padding: 5px;
      }
      .bar {
        height: 5px;
        background-color: #16a085;
      }
      table {
        vertical-align: middle;
        text-align: center;
        width: 100%;
        height: 100%;
      }
      .personal {
        font-size: 50px;
      }
      .percent {
        font-style: italic;
        margin-left: 15px;
      }
      .house {
        text-transform: uppercase;
        font-size: 32px;
        color: #2c3e50;
        margin-top: 25px;
      }
      button {
        background-color: #2c3e50;
        color: #ffffff;
        border: none;
        height: 25px;
        margin: 5px;
        border-radius: 1px;
      }
      input {
        height: 25px;
        border: none;
        width: 250px;
        background-color: #ecf0f1;
        color: #2c3e50 !important;
        padding-left: 5px;
      }
      .fillIn {
        visibility: hidden;
        height: 5px;
      }
      #header {
        color: #ffffff;
        text-align: center;
        background-color: #2c3e50;
        width: 100%;
        font-size: 20px;
        padding: 15px 0 15px 0;
      }
    </style>
  </head>
  <body>
    <div id = "header">Check your progress toward graduating with NHS honors.</div>
    <table><tr><td id = "main">JavaScript is required to access this page. Sorry!</td></tr></table>
    <script type = "text/javascript">
      function doCheck() {
        var text = document.getElementById("in").value, d = 0, r = "<br><div class='house'>House ";
        for (var j = 2; j < n.length; j++) {
          var num = n[j][0],
            grade = n[j][2],
            encode = parseInt(num, 32).toString(10),
            faction = n[j][1],
            update = "<br>Updated 10/09/15 at 7:45 p.m.";
          if (grade == "11") {
            grad = n[0];
          } else if (grade == "12") {
            grad = n[1];
          }
          console.log(encode + " " + text);
          if (text == encode) {
            d = 1;
            console.log("Match found.")
            switch (faction) {
              case "1":
                r += "Gryffindor.</div><br>";
                break;
              case "2":
                r += "Ravenclaw.</div><br>";
                break;
              case "3":
                r += "Slytherin.</div><br>";
                break;
              case "4":
                r += "Hufflepuff.</div><br>";
                break;
              default:
                r += "unknown.</div><br>";
                break;
            }
            for (var k = 2; k < 7; k++) {
              if (n[j][k] == "") {
                n[j][k] = 0;
              }
            }
            var names = ["grade", "individual hours", "activities", "meetings", "tutoring hours"];
            for (var p = 2; p < 7; p++) {
              r += "<div class = 'value'>";
              r += "<span class = 'personal'>" + n[j][p] + "</span><br>" + names[p - 2];
              if (p > 2) {
                r += " <span class = 'percent'>" + Math.round(n[j][p]/grad[p]*100) + "%</span>";
                if (n[j][p]/grad[p]*100 < 100) {
                  r += "<div class = 'bar' style = 'width: " + n[j][p]/grad[p]*100 + "%;'></div>";
                } else {
                  r += "<div class = 'bar' style = 'width: 100%;'></div>";
                }
              } else {
                r += "<div class = 'fillIn' style = 'width: 100%'></div>";
              }
              r += "</div>";
            }
          }
        }
        if (d == 0) {
          main.innerHTML = replace + "<br>No results found.";
        } else {
          main.innerHTML = replace + r + update;
        }
      }
      var main = document.getElementById("main"),
        replace = "<input type='text' id='in' placeholder='Student number'><button id='doClick' onclick='doCheck();'>Check</button>",
        fullData = "0``11`16`8`12`16 0``12`14`7`12`11 91fgc`1`11```1` 92592`1`11```1`0.9 94i2d`1`11```2` 0`1`11``1`3`1.1 9511o`1`11``1`1`0.8 927fk`1`11```2` 924oe`1`11``1`1`1.1 925vs`1`11```1` 92t40`1`11```1` 93n2a`1`11```2` 924d0`1`11```3`0.6 91l2c`1`12`2`3`11`0.6 91p6o`1`12`6`4`8`3.8 926hv`1`12`6`3`10`3 929rb`1`12`7.5`1`9`1.7 952nd`1`12`5.5``2`3 91jl2`1`12`4`1`10`3 954lj`1`12```1` 91vic`1`12`4.5``9`4.9 90o20`1`12```1` 95b7c`1`12`6`4`12`3 927i2`2`11```1`1 921t4`2`11```2` 924d2`2`11```1` 93cc8`2`11```2` 92ifu`2`11``2`4`2 95fg6`2`11```1`1 924g6`2`11```3`0.7 94c9i`2`11``2`2` 91ehf`2`11```3`2 925ve`2`11``1`1`0.6 928pr`2`11```3` 924g8`2`11``1`4`2.25 9265r`2`11```2`2.1 91f4a`2`12`6`2`9`4 927k0`2`12`8`5`11`4 924bv`2`12`8`3`12`5 91ltc`2`12```1` 90gui`2`12```1` 91pjt`2`12`15`2`9`3 935hf`2`12```1` 92rpd`2`12``4`9`1.25 924h4`3`11```1`0.7 929bh`3`11```3`1.4 928sc`3`11```1` 92ej3`3`11``1`3` 924g9`3`11```3` 924gh`3`11``1`3` 94te6`3`11```3` 925vu`3`11```1` 93h57`3`11```1` 91es3`3`11``1`2` 923nm`3`11```2` 91fgg`3`11`3`1`2`3.5 927ce`3`12``1`7`3 91rfe`3`12`8`4`9`6 91lbv`3`12```7`2 9511i`3`12```1` 91msi`3`12``1`8` 91n2s`3`12`2.5`2`6`1 91l3j`3`12`4.5`3`11`4.7 91jvn`3`12``1`1` 90mjo`3`12`6`5`10`5 94tdv`4`11```1` 92b0h`4`11``1`2`1 91ffq`4`11```2` 925ad`4`11``1`1` 941h6`4`11```1` 92c1b`4`11```1` 91es1`4`11```1`1.7 925ue`4`11```1` 924f7`4`11```1` 924d9`4`11```3` 9201g`4`11```2`1.3 91e0t`4`11```2`0.9 91lrm`4`12`5`2`7` 95dd1`4`12`11.5`2`7`5 91pdj`4`12``1`2`1.2 925tp`4`12`7`4`8`4 91ls6`4`12`11`4`11`3 92oug`4`12`4.5`3`9`1.5 91l37`4`12``1`1` 91ksu`4`12```1`1 93imt`4`12``3`11`",
        s = fullData.split(" "), n = [];
      for (var i = 0; i < s.length; i++) {
        n.push(s[i].split("`"));
      }
      main.innerHTML = replace;
    </script>
  </body>
</html>
